"use strict";var itemForm=document.getElementById("item-form"),itemInput=document.getElementById("item-input"),itemList=document.getElementById("item-list"),itemFilter=document.getElementById("filter"),clearBtn=document.getElementById("clear"),formBtn=itemForm.querySelector("button"),isEditMode=!1;function displayItems(){getItemsFromStorage().forEach(function(e){return addItemToDom(e)}),checkUI()}function onAddItemSubmit(e){if(e.preventDefault(),newItem=itemInput.value,""!==newItem){if(isEditMode){var t=itemList.querySelector(".edit-mode");removeItemFromStorage(t.textContent),t.classList.remove("edit-mode"),t.remove(),isEditMode=!1}else if(console.log(newItem),console.log(checkIfItemExists(newItem)),checkIfItemExists(newItem))return void alert("That item already exists");addItemToDom(newItem),addItemToStorage(newItem),checkUI(),itemInput.value=""}else alert("Please add an item")}function addItemToDom(e){var t=document.createElement("li");t.append(document.createTextNode(e));var i=createButton("remove-item btn-link text-red"),n=createIcon("fa-solid fa-xmark");i.appendChild(n),t.append(i),itemList.appendChild(t)}function addItemToStorage(e){var t=getItemsFromStorage();(t=null===localStorage.getItem("items")?[]:JSON.parse(localStorage.getItem("items"))).push(e),localStorage.setItem("items",JSON.stringify(t))}function getItemsFromStorage(){return null===localStorage.getItem("items")?[]:JSON.parse(localStorage.getItem("items"))}function createButton(e){var t=document.createElement("button");return t.className=e,t}function createIcon(e){var t=document.createElement("i");return t.className=e,t}function onClickItem(e){e.target.parentElement.classList.contains("remove-item")?removeItem(e.target.parentElement.parentElement):setItemToEdit(e.target)}function checkIfItemExists(e){return getItemsFromStorage().includes(e)}function setItemToEdit(e){itemList.querySelectorAll("li").forEach(function(e){return e.classList.remove("edit-mode")}),isEditMode=!0,e.classList.add("edit-mode"),formBtn.innerHTML='<i class="fa-solid fa-pen"></i> Update Item',formBtn.style.backgroundColor="#228B22",itemInput.value=e.textContent}function removeItem(e){confirm("Are you sure?")&&(e.remove(),removeItemFromStorage(e.textContent)),checkUI()}function removeItemFromStorage(t){var e=getItemsFromStorage();e=e.filter(function(e){return e!=t}),localStorage.setItem("items",JSON.stringify(e))}function clearAll(e){for(;itemList.firstChild;)itemList.removeChild(itemList.firstChild);localStorage.removeItem("items"),checkUI()}function filterItems(e){var t=itemList.querySelectorAll("li"),i=e.target.value.toLowerCase();t.forEach(function(e){-1!=e.firstChild.textContent.toLowerCase().indexOf(i)?e.style.display="flex":e.style.display="none"})}function checkUI(){itemInput.value="",0===itemList.querySelectorAll("li").length?(clearBtn.style.display="none",itemFilter.style.display="none"):(clearBtn.style.display="block",itemFilter.style.display="block"),isEditMode=!1,formBtn.innerHTML='<i class="fa-solid fa-plus"></i>Add Item',formBtn.style.backgroundColor="#333"}function init(){itemForm.addEventListener("submit",onAddItemSubmit),itemList.addEventListener("click",onClickItem),clearBtn.addEventListener("click",clearAll),itemFilter.addEventListener("input",filterItems),document.addEventListener("DOMContentLoaded",displayItems),checkUI()}init();
//# sourceMappingURL=script.min.js.map
