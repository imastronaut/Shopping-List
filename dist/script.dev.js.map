{"version":3,"sources":["script.js"],"names":["itemForm","document","getElementById","itemInput","itemList","itemFilter","clearBtn","formBtn","querySelector","isEditMode","displayItems","itemsFromStorage","getItemsFromStorage","forEach","item","addItemToDom","checkUI","onAddItemSubmit","e","preventDefault","newItem","value","alert","itemToEdit","removeItemFromStorage","textContent","classList","remove","console","log","checkIfItemExists","addItemToStorage","li","createElement","append","createTextNode","button","createButton","icon","createIcon","appendChild","localStorage","getItem","JSON","parse","push","setItem","stringify","classes","className","onClickItem","target","parentElement","contains","removeItem","setItemToEdit","includes","querySelectorAll","i","add","innerHTML","style","backgroundColor","confirm","filter","clearAll","firstChild","removeChild","filterItems","items","text","toLowerCase","itemName","indexOf","display","length","init","addEventListener"],"mappings":"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","sourcesContent":["const itemForm = document.getElementById('item-form');\r\nconst itemInput = document.getElementById('item-input');\r\n\r\nconst itemList = document.getElementById('item-list');\r\n\r\nconst itemFilter = document.getElementById('filter');\r\n\r\n\r\nconst clearBtn = document.getElementById('clear');\r\nconst formBtn = itemForm.querySelector('button')\r\n\r\nlet isEditMode = false;\r\n\r\n\r\n\r\nfunction displayItems(){\r\n    const itemsFromStorage = getItemsFromStorage();\r\n    itemsFromStorage.forEach(item=>addItemToDom(item));\r\n    checkUI();\r\n}\r\n\r\nfunction onAddItemSubmit(e){\r\n    e.preventDefault();\r\n\r\n    newItem = itemInput.value;\r\n\r\n    //Validate Input\r\n    if(newItem === ''){\r\n\r\n        alert(\"Please add an item\");\r\n        return ;\r\n    }\r\n    \r\n    //Check for Editmode\r\n    if(isEditMode){\r\n        \r\n        const itemToEdit = itemList.querySelector('.edit-mode');\r\n        removeItemFromStorage(itemToEdit.textContent);\r\n        itemToEdit.classList.remove('edit-mode')\r\n        itemToEdit.remove();\r\n        isEditMode = false;\r\n    }else{\r\n        console.log(newItem)\r\n        console.log(checkIfItemExists(newItem))\r\n    \r\n        if(checkIfItemExists(newItem)){\r\n            alert(\"That item already exists\");\r\n            return;\r\n        }\r\n    }\r\n    \r\n    //Create item dom element\r\n    addItemToDom(newItem);\r\n    //Add item to storage\r\n    addItemToStorage(newItem);\r\n    \r\n    checkUI();\r\n    itemInput.value = '';\r\n\r\n}\r\n\r\nfunction addItemToDom(item){\r\n    const li = document.createElement('li');\r\n    li.append(document.createTextNode(item));\r\n    \r\n\r\n    const button = createButton('remove-item btn-link text-red');\r\n    const icon = createIcon('fa-solid fa-xmark');\r\n    button.appendChild(icon);\r\n    li.append(button);\r\n    itemList.appendChild(li);\r\n}\r\n\r\n\r\nfunction addItemToStorage(item){\r\n    let itemsFromStorage = getItemsFromStorage();\r\n    if(localStorage.getItem('items') === null){\r\n        itemsFromStorage = [];\r\n    }else{\r\n        itemsFromStorage = JSON.parse(localStorage.getItem('items'));\r\n    }\r\n\r\n    //Add new item to array\r\n    itemsFromStorage.push(item);\r\n\r\n    //Convert to JSON string and set to local storage\r\n    localStorage.setItem('items',JSON.stringify(itemsFromStorage))\r\n}\r\n\r\n\r\n\r\nfunction getItemsFromStorage(){\r\n    let itemsFromStorage;\r\n    if(localStorage.getItem('items') === null){\r\n        itemsFromStorage = [];\r\n    }else{\r\n        itemsFromStorage = JSON.parse(localStorage.getItem('items'));\r\n    }\r\n    \r\n    return itemsFromStorage;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction createButton(classes){\r\n    const button = document.createElement('button');\r\n    button.className = classes;\r\n    return button;\r\n}\r\n\r\nfunction createIcon(classes){\r\n    const icon = document.createElement('i');\r\n    icon.className = classes;\r\n    return icon;\r\n}\r\n\r\nfunction onClickItem(e){\r\n    if(e.target.parentElement.classList.contains('remove-item')){\r\n        removeItem(e.target.parentElement.parentElement)\r\n    }else{\r\n        setItemToEdit(e.target);\r\n    }\r\n}\r\n\r\nfunction checkIfItemExists(item){\r\n    const itemsFromStorage = getItemsFromStorage();\r\n    return itemsFromStorage.includes(item);\r\n}\r\nfunction setItemToEdit(item){\r\n    itemList.querySelectorAll('li').forEach(i=>i.classList.remove('edit-mode'))\r\n    isEditMode = true;\r\n    item.classList.add('edit-mode');\r\n    formBtn.innerHTML = '<i class=\"fa-solid fa-pen\"></i> Update Item'\r\n    formBtn.style.backgroundColor = '#228B22';\r\n    itemInput.value = item.textContent;\r\n}\r\n\r\nfunction removeItem(item){\r\n    if(confirm(\"Are you sure?\")){\r\n        //Remove item from DOM\r\n        item.remove();\r\n        //Remove item from Storage\r\n        removeItemFromStorage(item.textContent);\r\n    }\r\n    checkUI();\r\n}\r\n\r\nfunction removeItemFromStorage(item){\r\n    let itemsFromStorage = getItemsFromStorage();\r\n    //Filter out item to be removed\r\n    itemsFromStorage = itemsFromStorage.filter((i)=>i!=item);\r\n    localStorage.setItem('items',JSON.stringify(itemsFromStorage))\r\n}\r\n\r\nfunction clearAll(e){\r\n    // itemList.innerHTML = '';\r\n    while(itemList.firstChild){\r\n        itemList.removeChild(itemList.firstChild);\r\n    }\r\n\r\n    //Clear from local storage\r\n    localStorage.removeItem('items');\r\n    checkUI();\r\n}\r\n\r\nfunction filterItems(e){\r\n    const items = itemList.querySelectorAll('li');\r\n    const text = e.target.value.toLowerCase();\r\n    items.forEach(item=>{\r\n        const itemName  = item.firstChild.textContent.toLowerCase();\r\n        if(itemName.indexOf(text)!=-1){\r\n            item.style.display = 'flex';\r\n        }else{\r\n            item.style.display = 'none';\r\n        }\r\n    });\r\n}\r\n\r\nfunction checkUI(){\r\n    itemInput.value = '';\r\n    const items = itemList.querySelectorAll('li');\r\n    \r\n    if(items.length===0){\r\n        clearBtn.style.display='none';\r\n        itemFilter.style.display = 'none';\r\n    }else{\r\n        clearBtn.style.display='block';\r\n        itemFilter.style.display='block';\r\n    }\r\n    isEditMode = false;\r\n    formBtn.innerHTML = '<i class=\"fa-solid fa-plus\"></i>Add Item'\r\n    formBtn.style.backgroundColor = '#333';\r\n}\r\n\r\n//Initialize app\r\n\r\nfunction init(){\r\n    \r\n    //EventListeners\r\n    // console.log(itemList)\r\n    itemForm.addEventListener('submit',onAddItemSubmit);\r\n    itemList.addEventListener('click',onClickItem);\r\n    clearBtn.addEventListener('click',clearAll);    \r\n    itemFilter.addEventListener('input',filterItems)\r\n\r\n    document.addEventListener('DOMContentLoaded',displayItems);\r\n    checkUI();\r\n\r\n}\r\ninit()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"script.dev.js"}